---
用語BIP147

---
OP_CHECKMULTISIG`演算と`OP_CHECKMULTISIGVERIFY`演算で消費されるダミーエレメントに関連する不正性ベクトルを解決することを目的とした、SegWitソフトフォークに含まれる提案。歴史的な1つずれのバグ（ユニットシフトエラー）により、これら2つのオペコードは基本的な機能を超えてスタックから追加の要素を削除します。そのため、エラーを回避するためには、`scriptSig` の先頭にダミーの値を含めることが必須である。この値は不要であるが、スクリプトが有効であるためには存在しなければならない。P2MS標準を導入したBIP11では、不要な値として`OP_0`を置くことを推奨していた。しかし、この標準はコンセンサスルールレベルでは強制されなかった。つまり、トランザクションを無効にすることなく、どんな値でもそこに置くことができた。このようにして、`OP_CHECKMULTISIG` と `OP_CHECKMULTISIGVERIFY` にはマレービリティ・ベクターが含まれていた。BIP147では、`NULLDUMMY`という新しいコンセンサスルールを導入し、このダミー要素が空のバイト配列（`OP_0`）であることを要求している。それ以外の値であれば、スクリプトの評価は即座に失敗する。この変更はP2WSHスクリプトだけでなくSegWit以前のスクリプトにも適用され、ソフトフォークが必要であった。