---
term: ギャップ・リミット
---
ビットコインウォレットソフトウェアで使用されるパラメータで、追加トランザクションの検索を停止する前に生成する連続した未使用アドレスの最大数を決定する。このパラメータを調整することは、すべてのトランザクションを確実に見つけるためにウォレットをリカバリする際にしばしば必要となる。Gap Limitが不十分だと、導出フェーズでアドレスがスキップされた場合、いくつかのトランザクションを見逃す可能性があります。Gap Limit を大きくすることで、ウォレットは関連する全てのトランザクションを回復するために、アドレスのシーケンスでさらに検索することができます。

実際、1つの`xpub`は理論上40億以上の受信アドレス（内部アドレスと外部アドレスの両方）を導き出すことができる。しかし、ウォレットソフトウェアは、莫大な運用コストをかけることなく、すべてのアドレスを導出し、その使用状況をチェックすることはできない。そのため、通常はすべてのウォレットソフトウェアがアドレスを生成する順番であるインデックス順に処理を進める。ソフトウェアは次のアドレスに移る前に、使用された各アドレスを記録し、連続して空のアドレスに遭遇すると検索を停止する。この数はギャップリミットと呼ばれるものです。

例えば、Gap Limitが`20`に設定されていて、アドレス`m/84'/0'/0/15/`が空の場合、ウォレットは`m/84'/0'/0/34/`までのアドレスを導出します。この範囲のアドレスが未使用のままであれば、検索はそこで停止します。その結果、`m/84'/0'/0'/0/40/`というアドレスを使った取引はこの例では検出されない。